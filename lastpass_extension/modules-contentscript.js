(function(){"use strict";var e,t,o;!function(r){var i,n,s,c,a={},u={},l={},p={},d=Object.prototype.hasOwnProperty,f=[].slice,m=/\.js$/;function y(e,t){return d.call(e,t)}function h(e,t){var o,r,i,n,s,c,a,u,p,d,f,y=t&&t.split("/"),h=l.map,v=h&&h["*"]||{};if(e){for(s=(e=e.split("/")).length-1,l.nodeIdCompat&&m.test(e[s])&&(e[s]=e[s].replace(m,"")),"."===e[0].charAt(0)&&y&&(e=y.slice(0,y.length-1).concat(e)),p=0;p<e.length;p++)if("."===(f=e[p]))e.splice(p,1),p-=1;else if(".."===f){if(0===p||1===p&&".."===e[2]||".."===e[p-1])continue;p>0&&(e.splice(p-1,2),p-=2)}e=e.join("/")}if((y||v)&&h){for(p=(o=e.split("/")).length;p>0;p-=1){if(r=o.slice(0,p).join("/"),y)for(d=y.length;d>0;d-=1)if((i=h[y.slice(0,d).join("/")])&&(i=i[r])){n=i,c=p;break}if(n)break;!a&&v&&v[r]&&(a=v[r],u=p)}!n&&a&&(n=a,c=u),n&&(o.splice(0,c,n),e=o.join("/"))}return e}function v(e,t){return function(){var o=f.call(arguments,0);return"string"!=typeof o[0]&&1===o.length&&o.push(null),n.apply(r,o.concat([e,t]))}}function g(e){return function(t){a[e]=t}}function b(e){if(y(u,e)){var t=u[e];delete u[e],p[e]=!0,i.apply(r,t)}if(!y(a,e)&&!y(p,e))throw new Error("No "+e);return a[e]}function S(e){var t,o=e?e.indexOf("!"):-1;return o>-1&&(t=e.substring(0,o),e=e.substring(o+1,e.length)),[t,e]}function _(e){return e?S(e):[]}s=function(e,t){var o,r,i=S(e),n=i[0],s=t[1];return e=i[1],n&&(o=b(n=h(n,s))),n?e=o&&o.normalize?o.normalize(e,(r=s,function(e){return h(e,r)})):h(e,s):(n=(i=S(e=h(e,s)))[0],e=i[1],n&&(o=b(n))),{f:n?n+"!"+e:e,n:e,pr:n,p:o}},c={require:function(e){return v(e)},exports:function(e){var t=a[e];return void 0!==t?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:(t=e,function(){return l&&l.config&&l.config[t]||{}})};var t}},i=function(e,t,o,i){var n,l,d,f,m,h,S,w=[],F=typeof o;if(h=_(i=i||e),"undefined"===F||"function"===F){for(t=!t.length&&o.length?["require","exports","module"]:t,m=0;m<t.length;m+=1)if("require"===(l=(f=s(t[m],h)).f))w[m]=c.require(e);else if("exports"===l)w[m]=c.exports(e),S=!0;else if("module"===l)n=w[m]=c.module(e);else if(y(a,l)||y(u,l)||y(p,l))w[m]=b(l);else{if(!f.p)throw new Error(e+" missing "+l);f.p.load(f.n,v(i,!0),g(l),{}),w[m]=a[l]}d=o?o.apply(a[e],w):void 0,e&&(n&&n.exports!==r&&n.exports!==a[e]?a[e]=n.exports:d===r&&S||(a[e]=d))}else e&&(a[e]=o)},e=t=n=function(e,t,o,a,u){if("string"==typeof e)return c[e]?c[e](t):b(s(e,_(t)).f);if(!e.splice){if((l=e).deps&&n(l.deps,l.callback),!t)return;t.splice?(e=t,t=o,o=null):e=r}return t=t||function(){},"function"==typeof o&&(o=a,a=u),a?i(r,e,t,o):setTimeout(function(){i(r,e,t,o)},4),n},n.config=function(e){return n(e)},e._defined=a,(o=function(e,t,o){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(o=t,t=[]),y(a,e)||y(u,e)||(u[e]=[e,t,o])}).amd={jQuery:!0}}();var r,i=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))(function(i,n){function s(e){try{a(r.next(e))}catch(e){n(e)}}function c(e){try{a(r.throw(e))}catch(e){n(e)}}function a(e){e.done?i(e.value):new o(function(t){t(e.value)}).then(s,c)}a((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var o,r,i,n,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function c(n){return function(c){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(i=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[0,i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,r=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){s.label=n[1];break}if(6===n[0]&&s.label<i[1]){s.label=i[1],i=n;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(n);break}i[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,c])}}},s=this&&this.__assign||Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c=this&&this.__decorate||function(e,t,o,r){var i,n=arguments.length,s=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(n<3?i(s):n>3?i(t,o,s):i(t,o))||s);return n>3&&s&&Object.defineProperty(t,o,s),s},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});o("common/module.abstract",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){var e=this;this._isInitialized=!1,this.initializedQueue=[],setTimeout(function(){return i(e,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,this.initialize()];case 1:return e.sent(),[4,this.postInitialize()];case 2:for(e.sent(),this._isInitialized=!0;this.initializedQueue.length;)try{this.initializedQueue.pop()()}catch(e){console.error(e)}return[2]}})})})}return e.prototype.isInitialized=function(e){this._isInitialized?e():this.initializedQueue.push(e)},e}();t.ModuleAbstract=o}),o("common/enums/auto-fill-action",["require","exports"],function(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),(o=t.AutoFillAction||(t.AutoFillAction={})).Login="Login",o.Email="Email",o.Address="Address",o.PersonalName="PersonalName"}),o("common/enums/auto-fill-input-category",["require","exports"],function(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),(o=t.AutoFillInputCategory||(t.AutoFillInputCategory={})).Name="name",o.FullName="fullName",o.FirstName="firstName",o.LastName="lastName",o.Address="address",o.Email="email",o.Password="password",o.UserName="userName"}),o("common/enums/auto-fill-method",["require","exports"],function(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),(o=t.AutoFillAlgorithm||(t.AutoFillAlgorithm={})).Legacy="Legacy",o.Euclidean="Euclidean"}),o("common/enums/feature-type",["require","exports"],function(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),(o=t.FeatureType||(t.FeatureType={})).AngularFrontendEnabled="angularFrontendEnabled",o.AutoFillControl="autofill_control",o.AutoFillTest="autofill_test",o.BetterGeneratePasswordEnabled="better_generate_password_enabled",o.Block30="block_3_0",o.EmergencyAccessRestricted="emergency_access_restricted",o.EzpassControl="ezpass_control",o.EzpassTest="ezpass_test",o.FamiliesEnabled="families_enabled",o.FamilyLegacySharedFoldersEnabled="family_legacy_shared_folders_enabled",o.FamilySharedFoldersEnabled="family_shared_folders_enabled",o.FormfillMigration="formfill_migration",o.Freamon="freamon",o.HealthMonitoring="health_monitoring",o.ICOB="icob",o.IntroTutorialVersion="intro_tutorial_version",o.IsDogfood="isDogfood",o.IsInfieldEnabled="is_infield_enabled",o.IsMobileActive="is_mobile_active",o.NewSaveSite="new_save_site",o.OmarDrawer="omardrawer",o.OmarIa="omaria",o.OmarInfieldB="omar_infield_b",o.OmarInfieldC="omar_infield_c",o.OneToOneSharingRestricted="one_to_one_sharing_restricted",o.PasswordSubmittedEvent="password_submitted_event",o.Pdkdf2IterationsMigration="pbkdf2_iterations_migration",o.Retire30="retire_3_0",o.TryFamiliesEnabled="try_families_enabled",o.TutorialEnabled="tutorial_enabled",o.Ziggy="ziggy"}),o("common/enums/repository-type",["require","exports"],function(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),(o=t.RepositoryType||(t.RepositoryType={})).Feature="Feature",o.AutoFillState="AutoFillState"}),o("common/enums/resolver-type",["require","exports"],function(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),(o=t.ResolverType||(t.ResolverType={})).PasswordSubmitted="Password Submitted",o.InjectedPasswordSubmitted="Injected Password Submitted"}),o("common/enums/service-type",["require","exports"],function(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),(o=t.ServiceType||(t.ServiceType={})).BasicAuth="BasicAuth",o.ContentScriptTools="ContentScriptTools",o.DomUtils="DomUtils",o.FormDetection="FormDetection",o.AutoFill="AutoFill",o.FormParser="FormParser",o.Segment="Segment",o.SiteParser="SiteParser",o.StringUtils="StringUtils",o.Topic="Topic",o.WebRequest="WebRequest",o.WebRequestShim="WebRequestShim"}),o("common/interfaces/legacy",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/enums/topic-type",["require","exports"],function(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),(o=t.TopicType||(t.TopicType={}))[o.LoginFinished=self.Topics.LOGIN_FINISHED]="LoginFinished",o[o.ClearData=self.Topics.CLEAR_DATA]="ClearData",o[o.RequestFrameworkInitialized=self.Topics.REQUEST_FRAMEWORK_INITIALIZED]="RequestFrameworkInitialized",o[o.ProcessedFormSubmit=self.Topics.PROCESSED_FORM_SUBMIT]="ProcessedFormSubmit"}),o("common/enums/index",["require","exports","common/enums/auto-fill-action","common/enums/auto-fill-input-category","common/enums/auto-fill-method","common/enums/feature-type","common/enums/repository-type","common/enums/resolver-type","common/enums/service-type","common/enums/topic-type"],function(e,t,o,r,i,n,s,c,a,u){function l(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),l(o),l(r),l(i),l(n),l(s),l(c),l(a),l(u)}),o("common/repositories/auto-fill-state/auto-fill-algorithm-state",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/repositories/auto-fill-state/auto-fill-frame-state",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/repositories/auto-fill-state/auto-fill-state",["require","exports","common/enums/index"],function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.tabId=e,this.url=t,this.frames={}}return Object.defineProperty(e.prototype,"isReady",{get:function(){var e=this;return Object.keys(this.frames).every(function(t){var o=e.frames[t];return o.isReady||!o.isAllowed})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAllowed",{get:function(){var e=this;return Object.keys(this.frames).every(function(t){return e.frames[t].isAllowed})},enumerable:!0,configurable:!0}),e.prototype.tryGetFrame=function(e){return this.frames[e]||(this.frames[e]=this.getEmptyFrame()),this.frames[e]},e.prototype.getEmptyFrame=function(){return{elements:{},isAllowed:!0,isReady:!1}},e.prototype.setFrameAllowed=function(e,t){this.tryGetFrame(e).isAllowed=t},e.prototype.setFrameReady=function(e,t){this.tryGetFrame(e).isReady=t},e.prototype.getFrameAlgorithmState=function(e,t,o){var r=this.tryGetFrame(e);if(r.elements[t])return r.elements[t][o]},e.prototype.setFrameAlgorithmState=function(e,t,o,r){var i=this.tryGetFrame(e),n=i.elements[t];n||(n={},i.elements[t]=n),i.elements[t][o]=s({},n[o],r)},e.prototype.resetFrameState=function(e){this.frames[e]&&(this.frames[e]=this.getEmptyFrame())},e.prototype.deleteFrameState=function(e){this.frames[e]&&delete this.frames[e]},e.prototype.getResults=function(){var e=this,t={count:0};Object.keys(o.AutoFillAlgorithm).forEach(function(e){t[e]=0});var r={allowed:this.isAllowed,userName:s({},t),password:s({},t)};return Object.keys(this.frames).forEach(function(i){var n=e.frames[i];n.isAllowed&&n.isReady&&Object.keys(n.elements).forEach(function(e){return Object.keys(n.elements[e]).forEach(function(i){var c=n.elements[e][i].filledWith;if(c&&"none"!==c){r[c]||(r[c]=s({},t));var a=r[c][i]+1;i===o.AutoFillAlgorithm.Legacy&&(r[c].count=a),r[c][i]=a}})})}),r},e}();t.AutoFillState=r}),o("common/repositories/auto-fill-state/index",["require","exports","common/repositories/auto-fill-state/auto-fill-state"],function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}(o)}),o("common/interfaces/auto-fill-state.repository",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/interfaces/auto-fill.service",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/interfaces/feature.repository",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/interfaces/repository",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/interfaces/segment.service",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/interfaces/serializable-callback",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/interfaces/serializable-value",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/interfaces/service",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/interfaces/web-request-shim.service",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/interfaces/web-request.service",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/interfaces/index",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("common/provider.abstract",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){void 0===t&&(t=!0);var o=this;this.instances={},this.initialized=!1,e&&e.size&&(this.map=e,this.map.forEach(function(e,r){e.delegated&&!t||(o.instances[r]=new e.ctor)}))}return e.prototype.initialize=function(){var e=this;Object.keys(this.instances).forEach(function(t){return e.instances[t].initialize()}),this.initialized=!0},e.prototype.postInitialize=function(){var e=this;Object.keys(this.instances).forEach(function(t){"function"==typeof e.instances[t].postInitialize&&e.instances[t].postInitialize()})},e.prototype.teardown=function(){var e=this;Object.keys(this.instances).forEach(function(t){e.instances[t]&&"function"==typeof e.instances[t].destroy&&e.instances[t].destroy()})},e}();t.ProviderAbstract=o}),o("common/decorators/register-repository.decorator",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=new Map;t.RegisterRepository=function(e,t){return void 0===t&&(t=!1),function(r){o.set(e,{ctor:r,delegated:t})}},t.getRepositoryRegistry=function(){return o}}),o("common/decorators/register-service.decorator",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=new Map;t.RegisterService=function(e,t){return void 0===t&&(t=!1),function(r){o.set(e,{ctor:r,delegated:t})}},t.getServiceRegistry=function(){return o}}),o("common/messaging/messaging",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=new WeakMap;function r(e,t){if("function"==typeof t){var o=void 0;"string"==typeof e?o=e:e instanceof Error&&(o="string"==typeof e.message?e.message:"function"==typeof e.toString?e.toString():"Unknown error"),t(o)}else console.error(e)}t.addVisibleMethod=function(e,t){var r=e.constructor,i=o.get(r);i&&i.size?i.add(t):i=new Set([t]),o.set(r,i)},t.callMethod=function(e,t,s,c){return void 0===s&&(s=[]),i(this,void 0,void 0,function(){var i,a;return n(this,function(n){switch(n.label){case 0:if(n.trys.push([0,3,,4]),!e||!e.constructor)throw new Error("No target provided!");if(!o.has(e.constructor))throw new Error("Target has no visible methods.");if(!o.get(e.constructor).has(t))throw new Error("Method [ "+t+" ] is not a visible method.");if("function"!=typeof(i=e[t]))throw new Error("Method [ "+t+" ] is not a function or does not exist on the target.");return(a=i.bind(e).apply(void 0,s))&&"function"==typeof a.then?[4,a]:[3,2];case 1:a=n.sent(),n.label=2;case 2:return c(null,a),[3,4];case 3:return r(n.sent(),c),[3,4];case 4:return[2]}})})},t.handleCallbackError=r}),o("common/decorators/visible.decorator",["require","exports","common/messaging/messaging"],function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.Visible=function(e,t,r){o.addVisibleMethod(e,t)}}),o("common/decorators/index",["require","exports","common/decorators/register-repository.decorator","common/decorators/register-service.decorator","common/decorators/visible.decorator"],function(e,t,o,r,i){function n(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),n(o),n(r),n(i)}),o("common/services/utils/string-utils.service",["require","exports","common/decorators/index","common/enums/index"],function(e,t,o,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.initialize=function(){},e.prototype.stringContains=function(e,t){if(e&&t){Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;++o)if(e.indexOf(t[o])>-1)return!0}return!1},e=c([o.RegisterService(r.ServiceType.StringUtils)],e)}();t.StringUtilsService=i}),o("content-script/interfaces/content-script-instances-info",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("content-script/interfaces/index",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("content-script/services/auto-fill/algorithms/algorithm-result",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("content-script/services/auto-fill/algorithms/algorithm.abstract",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(){}}();t.AlgorithmAbstract=o}),o("content-script/services/auto-fill/algorithms/euclidean-distance-algorithm",["require","exports","common/enums/index","common/enums/index","content-script/services/auto-fill/algorithms/algorithm.abstract","content-script/content-script.module"],function(e,t,o,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){var t=e.call(this)||this;return t.autoFillService=n.getService(r.ServiceType.AutoFill),t}return a(t,e),t.prototype.execute=function(e){var o=this,r=Array.from(document.querySelectorAll('input[type="text"], input:not([type]), input[type="password"], input[type="email"]')),i=[],n=new Map;r.forEach(function(e){var r=o.autoFillService.getInputElementData(e);if(r.visible)for(var i=[r.id,r.type,r.ariaLabel,r.name],s=new Map,c=0,a=i;c<a.length;c++){var u=a[c];if(u){var l=o.getFitResults(u,t.inputWords);if(l&&l.matches.length){for(var p=0,d=l.matches;p<d.length;p++){var f=d[p];s.has(f.inputCategory)?s.set(f.inputCategory,s.get(f.inputCategory)+f.confidence):s.set(f.inputCategory,f.confidence)}l.matches.sort(function(e,t){return s.get(t.inputCategory)-s.get(e.inputCategory)});var m=l.matches[0];if(m){var y=void 0;n.has(e)?(y=n.get(e)).bestMatch.inputCategory===m.inputCategory?y.bestMatch.confidence+=m.confidence:n.get(e).bestMatch.confidence<m.confidence&&(y={fitResults:l,bestMatch:m}):y={fitResults:l,bestMatch:m},n.set(e,y)}}}}});var s=new Map;return n.forEach(function(o,r){var n=o.fitResults,c=o.bestMatch;if(e.some(function(e){return e===c.inputCategory})){var a=n.matches[0].confidence>t.FitThreshold&&n.matches[0].confidence-n.matches[1].confidence>t.FitSeparation,u=s.get(c.inputCategory);u&&u.matches[0].confidence>c.confidence||(s.set(c.inputCategory,n),i.push({inputElement:r,inputValue:n.value,inputValueNormalized:n.valueNormalized,category:c.inputCategory,closestMatchingWord:c.closestMatchingWord,isMatching:a,confidence:c.confidence}))}}),i},t.prototype.similarity=function(e,t){var o=e,r=t;e.length<t.length&&(o=t,r=e);var i=o.length;return 0===i?1:(i-this.editDistance(o,r))/i},t.prototype.editDistance=function(e,t){for(var o=Array.from(e.toLowerCase()),r=Array.from(t.toLowerCase()),i=[],n=0;n<=o.length;n++){for(var s=n,c=0;c<=r.length;c++)if(0===n)i[c]=c;else if(c>0){var a=i[c-1];o[n-1]!==r[c-1]&&(a=1+Math.min(Math.min(a,s),i[c])),i[c-1]=s,s=a}n>0&&(i[t.length]=s)}return i[t.length]},t.prototype.normalizeAttributeValue=function(e){return e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase()},t.prototype.findBestMatch=function(e,t,o){for(var r=0,i=null,n=NaN,s=0;s<t.length;s++)(n=this.similarity(t[s],o))>r&&(r=n,i=s);return{inputCategory:e,closestMatchingWord:t[i],confidence:100*Number(r.toFixed(2))}},t.prototype.getFitResults=function(e,t){var o=this,r=this.normalizeAttributeValue(e),i=Object.keys(t).map(function(e){return o.findBestMatch(e,t[e],r)});return i.sort(function(e,t){return t.confidence-e.confidence}),{value:e,valueNormalized:r,matches:i}},t.FitThreshold=80,t.FitSeparation=10,t.inputWords=function(){function e(e,t){var o=[];return e.forEach(function(e){return t.forEach(function(t){return o.push(e+t)})}),o}var t,r=["first","1st","f","front","head","primary","prime","initial","cardinal","1st","1","proper"],i=["last","end","final","l"],n=["full","whole","entire"],s=["name","n","nombre"],c=["address","addr"],a=["email","e","mailto","emailaddress","useremail","emailuser"],u=["password","pass","pw","p","pwd"],l=["user","uname","username","nameuser","u","accountname"];return(t={})[o.AutoFillInputCategory.Name]=s,t[o.AutoFillInputCategory.FullName]=e(n,s),t[o.AutoFillInputCategory.FirstName]=e(r,s),t[o.AutoFillInputCategory.LastName]=e(i,s),t[o.AutoFillInputCategory.Address]=c,t[o.AutoFillInputCategory.Email]=a,t[o.AutoFillInputCategory.Password]=u,t[o.AutoFillInputCategory.UserName]=l,t}(),t}(i.AlgorithmAbstract);t.EuclideanDistanceAlgorithm=s}),o("content-script/services/auto-fill/algorithms/index",["require","exports","content-script/services/auto-fill/algorithms/euclidean-distance-algorithm"],function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}(o)}),o("content-script/services/auto-fill/post-processors/login-post-processor",["require","exports","common/enums/index"],function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.loginPostProcess=function(e){if(!e.some(function(e){return e.category===o.AutoFillInputCategory.UserName})){var t=e.filter(function(e){return e.category===o.AutoFillInputCategory.Password}),r=e.filter(function(e){return e.category===o.AutoFillInputCategory.Email});t.length<=1&&1===r.length&&(r[0].category=o.AutoFillInputCategory.UserName)}return e}}),o("content-script/services/auto-fill/auto-fill.service",["require","exports","common/decorators/index","common/enums/index","content-script/services/auto-fill/post-processors/login-post-processor","content-script/services/auto-fill/algorithms/index","content-script/content-script.module"],function(e,t,o,r,s,a,u){Object.defineProperty(t,"__esModule",{value:!0});var l,p=r.AutoFillAction,d=r.AutoFillInputCategory,f=function(){function e(){}return t=e,e.prototype.initialize=function(){this.contentScriptTools=u.getService(r.ServiceType.ContentScriptTools),this.autoFillStateRepo=u.getRepository(r.RepositoryType.AutoFillState),this.featureRepository=u.getRepository(r.RepositoryType.Feature)},e.prototype.postInitialize=function(){return i(this,void 0,void 0,function(){var e,t,o,i,s,c=this;return n(this,function(n){switch(n.label){case 0:return[4,this.featureRepository.get(r.FeatureType.AutoFillTest)];case 1:return n.sent()?(e=u.getContentScriptInstanceInfo(),t=e.tabId,o=e.frameId,i=e.isTop,"loading"===window.document.readyState?(s=function(e){c.autoFillStateRepo.resetFrameState(t,o),c.fill(r.AutoFillAction.Login),window.removeEventListener("DOMContentLoaded",s)},window.addEventListener("DOMContentLoaded",s)):this.fill(r.AutoFillAction.Login),window.addEventListener("beforeunload",function(e){i?c.autoFillStateRepo.deleteState(t):c.autoFillStateRepo.deleteFrameState(t,o)}),[2]):[2]}})})},e.prototype.getInputElementData=function(e){var t=e.getBoundingClientRect(),o=t.left,r=t.top;return{width:e.width,height:e.height,visible:this.contentScriptTools.isVisible(e),position:{left:o,top:r},id:this.contentScriptTools.getAttribute(e,"id"),type:this.contentScriptTools.getAttribute(e,"type"),name:this.contentScriptTools.getAttribute(e,"name"),value:this.contentScriptTools.getAttribute(e,"value"),ariaLabel:this.contentScriptTools.getAttribute(e,"aria-label"),raw:e}},e.prototype.fill=function(e){var o=(new a.EuclideanDistanceAlgorithm).execute(t.actionInputMap[e]);(e=r.AutoFillAction.Login)&&(o=s.loginPostProcess(o));for(var i=u.getContentScriptInstanceInfo(),n=i.tabId,c=i.frameId,l=0,p=o;l<p.length;l++){var d=p[l],f=void 0;switch(d.category){case r.AutoFillInputCategory.Password:f="password";break;case r.AutoFillInputCategory.UserName:f="userName";break;default:f="other"}this.autoFillStateRepo.setFrameAlgorithmState(n,c,d.inputElement,r.AutoFillAlgorithm.Euclidean,{inputCategory:d.category,elementType:d.inputElement.type,filledWith:f})}},e.actionInputMap=((l={})[p.Login]=[d.Email,d.UserName,d.Password],l[p.Email]=[d.Email],l[p.Address]=[d.Address],l[p.PersonalName]=[d.FullName,d.FirstName,d.LastName],l),c([o.Visible],e.prototype,"fill",null),e=t=c([o.RegisterService(r.ServiceType.AutoFill)],e);var t}();t.AutoFillService=f}),o("content-script/services/form-detection/form-detection.service",["require","exports","common/decorators/index","common/enums/index","content-script/content-script.module"],function(e,t,o,r,s){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.inputSelector='input:not([type]),input[type="text"],input[type="email"],input[type="password"]',this.successRegex=/^2[0-9][0-9]$/}return e.prototype.initialize=function(){var e=this;this.tools=s.getService(r.ServiceType.ContentScriptTools),this.webRequest=s.getService(r.ServiceType.WebRequest),this.addTrustedListener("mouseup",function(t){return e.detectForm(t)}),this.addTrustedListener("keydown",function(t){13===(t.keyCode||t.which)&&e.detectForm(t)}),this.csInfo=s.getContentScriptInstanceInfo()},e.prototype.detectForm=function(e){return i(this,void 0,void 0,function(){var t,o,i,s,c;return n(this,function(n){return t=this.tools.getForm(e.target),o=this.webRequest.isApiSupported(),i=this.getFormInputs(t),this.hasPasswordInput(i)&&(s=i.map(function(e){return e.value}),c=o?r.ResolverType.PasswordSubmitted:r.ResolverType.InjectedPasswordSubmitted,this.webRequest.trackResponse(this.csInfo.tabId,s,c)),[2]})})},e.prototype.hasPasswordInput=function(e){var t=this;return e.some(function(e){return"password"===e.type||"disc"===t.tools.getCSS(e,"text-security")})},e.prototype.addTrustedListener=function(e,t){window.addEventListener(e,function(e){return e.isTrusted&&t(e)},!0)},e.prototype.getFormInputs=function(e){var t=this,o=e||document.body;return Array.from(o.querySelectorAll(this.inputSelector)).filter(function(e){return e.value&&t.tools.isVisible(e)})},e.prototype.isSuccessCode=function(e){return this.successRegex.test(e)},e=c([o.RegisterService(r.ServiceType.FormDetection)],e)}();t.FormDetectionService=a}),o("content-script/interfaces/legacy",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}),o("content-script/legacy",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.LegacyGlobal=self}),o("content-script/services/segment/delegated-segment.service",["require","exports","common/decorators/index","common/enums/index","content-script/legacy"],function(e,t,o,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.initialize=function(){},e.prototype.send=function(e,t){i.LegacyGlobal.bg.sendLpImprove(e,t)},e=c([o.RegisterService(r.ServiceType.Segment,!0)],e)}();t.DelegatedSegmentService=n}),o("content-script/services/service-provider",["require","exports","common/provider.abstract","common/messaging/messaging","content-script/legacy"],function(e,t,o,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.callQueue=[],t}return a(t,e),t.prototype.getService=function(e){return this.instances[e]},t.prototype.initialize=function(){for(e.prototype.initialize.call(this);this.callQueue.length;){var t=this.callQueue.shift(),o=t.serviceType,i=t.method,n=t.args,s=t.callback;r.callMethod(this.getService(o),i,n,s)}},t.prototype.postInitialize=function(){e.prototype.postInitialize.call(this)},t.prototype.teardown=function(){e.prototype.teardown.call(this)},t.prototype.isInitialized=function(){return this.initialized},t.prototype.call=function(e,t,o,i){void 0===o&&(o=[]);try{this.isInitialized()?r.callMethod(this.getService(e),t,o,i):this.callQueue.push({serviceType:e,method:t,args:o,callback:i})}catch(e){r.handleCallbackError(e,i)}},t}(o.ProviderAbstract);t.ServiceProvider=n,t.callBackgroundService=function(e,t,o,r){if("function"!=typeof r)return new Promise(function(r,n){i.LegacyGlobal.bg.LPModule.callService(e,t,o,function(e,t){e?n(e):r(t)})});i.LegacyGlobal.bg.LPModule.callService(e,t,o,r)}}),o("content-script/services/tools/content-script-tools.service",["require","exports","common/decorators/index","common/enums/index"],function(e,t,o,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.unloading=!1}return e.prototype.initialize=function(){var e=this;window.addEventListener("beforeunload",function(t){!1!==t.isTrusted&&(e.unloading=!0)})},e.prototype.isUnloading=function(){return this.unloading},e.prototype.getCSS=function(e,t){return window.getComputedStyle(e).getPropertyValue(t)},e.prototype.getAttribute=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):void 0},e.prototype.isForm=function(e){return"FORM"===e.nodeName},e.prototype.getForm=function(e){for(;e;){if(this.isForm(e))return e;e=e.parentElement}return null},e.prototype.isClickable=function(e){if("function"==typeof document.elementFromPoint){var t=e.getBoundingClientRect();return document.elementFromPoint(t.left,t.top)===e||document.elementFromPoint(t.right,t.top)===e||document.elementFromPoint(t.left,t.bottom)===e||document.elementFromPoint(t.right,t.bottom)===e}return!0},e.prototype.isScrollableX=function(e){if(e.scrollWidth>e.clientWidth){var t=this.getCSS(e,"overflow-x");return"auto"===t||"scroll"===t}return!1},e.prototype.isScrollableY=function(e){if(e.scrollHeight>e.clientHeight)switch(this.getCSS(e,"overflow-y")){case"auto":case"scroll":return!0;case"visible":return e===document.body||!e.parentElement}return!1},e.prototype.getViewableArea=function(e){for(var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight},o=e.parentElement;o;)o.scrollLeft>0&&(t.left-=o.scrollLeft),o.scrollTop>0&&(t.top-=o.scrollTop),this.isScrollableX(o)&&(t.width+=o.scrollWidth-o.clientWidth),this.isScrollableY(o)&&(t.height+=o.scrollHeight-o.clientHeight),o=o.parentElement;return t.right=t.left+t.width,t.bottom=t.top+t.height,t},e.prototype.isVisible=function(e){if(!e)return!1;if(!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))return!1;var t=e.getBoundingClientRect(),o=this.getViewableArea(e);return!(t.right<o.left||t.bottom<o.top||t.left>o.right||t.top>o.bottom)},e=c([o.RegisterService(r.ServiceType.ContentScriptTools)],e)}();t.ContentScriptTools=i}),o("content-script/services/tools/dom-utils.service",["require","exports","common/decorators/index","common/enums/index"],function(e,t,o,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.initialize=function(){},e.prototype.getXPathForElement=function(e){var t=function(e,o){return e?t(e.previousElementSibling,o||e.localName)+(e.localName===o):1},o=function(e){return e&&e.nodeType===Node.ELEMENT_NODE?e.id&&document.querySelector("#"+e.id)===e?['id("'+e.id+'")']:o(e.parentNode).concat([e.localName.toLowerCase()+"["+t(e)+"]"]):[""]};return o(e).join("/")},e=c([o.RegisterService(r.ServiceType.DomUtils)],e)}();t.DomUtils=i}),o("content-script/services/web-request/delegated-web-request-shim.service",["require","exports","common/decorators/index","common/enums/index","content-script/services/index","content-script/content-script.module"],function(e,t,o,r,s,a){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(){var e=this;this.apiSupported=!1,this.enabled=!1,this.requestStartListener=function(t){var o=t.detail;o||(o={requestID:"NONE"});var r=[];o.data&&r.push(o.data),e.handleOnBefore(e.instanceInfo.tabId,r,o.requestID)},this.requestEndListener=function(t){var o=t.detail;o||(o={requestID:"NONE"}),e.handleOnCompleted(e.instanceInfo.tabId,o.requestID,o.statusCode)}}return e.prototype.initialize=function(){return i(this,void 0,void 0,function(){var e,t;return n(this,function(o){switch(o.label){case 0:return e=this,[4,s.callBackgroundService(r.ServiceType.WebRequest,"isApiSupported",void 0)];case 1:return e.apiSupported=o.sent(),t=this,[4,s.callBackgroundService(r.ServiceType.WebRequest,"isEnabled",void 0)];case 2:return t.enabled=o.sent(),this.instanceInfo=a.getContentScriptInstanceInfo(),!this.apiSupported&&this.enabled&&(window.addEventListener("lprequeststart",this.requestStartListener),window.addEventListener("lprequestend",this.requestEndListener),window.addEventListener("submit",this.requestStartListener)),[2]}})})},e.prototype.destroy=function(){!this.apiSupported&&this.enabled&&(window.removeEventListener("lprequeststart",this.requestStartListener),window.removeEventListener("lprequestend",this.requestEndListener),window.removeEventListener("submit",this.requestStartListener))},e.prototype.handleOnBefore=function(e,t,o){return e=null==e?this.instanceInfo.tabId:e,s.callBackgroundService(r.ServiceType.WebRequestShim,"handleOnBefore",[e,t,o])},e.prototype.handleOnCompleted=function(e,t,o){return e=null==e?this.instanceInfo.tabId:e,s.callBackgroundService(r.ServiceType.WebRequestShim,"handleOnCompleted",[e,t,o])},e.prototype.handleOnError=function(e,t,o,i){return e=null==e?this.instanceInfo.tabId:e,s.callBackgroundService(r.ServiceType.WebRequestShim,"handleOnError",[e,t,o,i])},e=c([o.RegisterService(r.ServiceType.WebRequestShim,!0)],e)}();t.DelegatedWebRequestShimService=u}),o("content-script/services/web-request/delegated-web-request.service",["require","exports","common/decorators/index","common/enums/index","content-script/services/index"],function(e,t,o,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.apiSupported=!1,this.enabled=!1}return e.prototype.initialize=function(){var e=this;i.callBackgroundService(r.ServiceType.WebRequest,"isApiSupported",void 0).then(function(t){return e.apiSupported=t}),i.callBackgroundService(r.ServiceType.WebRequest,"isEnabled",void 0).then(function(t){return e.enabled=t})},e.prototype.trackResponse=function(e,t,o){return i.callBackgroundService(r.ServiceType.WebRequest,"trackResponse",[e,t,o])},e.prototype.isApiSupported=function(){return this.apiSupported},e.prototype.isEnabled=function(){return this.enabled},e=c([o.RegisterService(r.ServiceType.WebRequest,!0)],e)}();t.DelegatedWebRequestService=n}),o("content-script/services/index",["require","exports","content-script/services/auto-fill/auto-fill.service","content-script/services/form-detection/form-detection.service","content-script/services/segment/delegated-segment.service","content-script/services/service-provider","content-script/services/tools/content-script-tools.service","content-script/services/tools/dom-utils.service","content-script/services/web-request/delegated-web-request-shim.service","content-script/services/web-request/delegated-web-request.service","common/services/utils/string-utils.service"],function(e,t,o,r,i,n,s,c,a,u,l){function p(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),p(o),p(r),p(i),p(n),p(s),p(c),p(a),p(u),p(l)}),o("content-script/repositories/auto-fill-state/delegated-auto-fill-state.repository",["require","exports","content-script/repositories/index","common/enums/index","common/decorators/index","content-script/content-script.module"],function(e,t,o,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e.prototype.initialize=function(){this.domUtils=n.getService(r.ServiceType.DomUtils)},e.prototype.getState=function(e,t){return o.callBackgroundRepository(r.RepositoryType.AutoFillState,"getState",[null==e?n.getContentScriptInstanceInfo().tabId:e],t)},e.prototype.setState=function(e){o.callBackgroundRepository(r.RepositoryType.AutoFillState,"setState",[e])},e.prototype.deleteState=function(e){o.callBackgroundRepository(r.RepositoryType.AutoFillState,"deleteState",[e])},e.prototype.getFrameAlgorithmState=function(e,t,i,n,s){return i instanceof HTMLElement&&(i=this.domUtils.getXPathForElement(i)),o.callBackgroundRepository(r.RepositoryType.AutoFillState,"getFrameAlgorithmState",this.resolveTargetArgs(e,t).concat([i,n]),s)},e.prototype.setFrameAlgorithmState=function(e,t,i,n,s){i instanceof HTMLElement&&(i=this.domUtils.getXPathForElement(i)),o.callBackgroundRepository(r.RepositoryType.AutoFillState,"setFrameAlgorithmState",this.resolveTargetArgs(e,t).concat([i,n,s]))},e.prototype.setFrameAllowed=function(e,t,i){o.callBackgroundRepository(r.RepositoryType.AutoFillState,"setFrameAllowed",this.resolveTargetArgs(e,t).concat([i]))},e.prototype.setFrameReady=function(e,t,i){o.callBackgroundRepository(r.RepositoryType.AutoFillState,"setFrameReady",this.resolveTargetArgs(e,t).concat([i]))},e.prototype.resetFrameState=function(e,t){o.callBackgroundRepository(r.RepositoryType.AutoFillState,"resetFrameState",this.resolveTargetArgs(e,t).slice())},e.prototype.deleteFrameState=function(e,t){o.callBackgroundRepository(r.RepositoryType.AutoFillState,"deleteFrameState",this.resolveTargetArgs(e,t).slice())},e.prototype.getFillResults=function(e,t,i){return o.callBackgroundRepository(r.RepositoryType.AutoFillState,"getFillResults",this.resolveTargetArgs(e,t).slice(),i)},e.prototype.resolveTargetArgs=function(e,t){var o=n.getContentScriptInstanceInfo(),r=o.tabId,i=o.frameId;return[null==e?r:e,null==t?i:t]},e=c([i.RegisterRepository(r.RepositoryType.AutoFillState,!0)],e)}();t.DelegatedAutoFillStateRepository=s}),o("content-script/repositories/feature/delegated-feature.repository",["require","exports","common/decorators/index","common/enums/index","content-script/legacy"],function(e,t,o,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.initialize=function(){},e.prototype.get=function(e){var t=Array.from(arguments);return new Promise(function(e,o){i.LegacyGlobal.bg.LPModule.callRepository(r.RepositoryType.Feature,"get",t,function(t,r){t?o(t):e(r)})})},e.prototype.set=function(e,t){i.LegacyGlobal.bg.LPModule.callRepository(r.RepositoryType.Feature,"set",Array.from(arguments))},e=c([o.RegisterRepository(r.RepositoryType.Feature,!0)],e)}();t.DelegatedFeatureRepository=n}),o("content-script/repositories/repository-provider",["require","exports","common/provider.abstract","content-script/legacy"],function(e,t,o,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.queue=[],t}return a(t,e),t.prototype.getRepository=function(e,t){var o,r;if(this.initialized)(r=this.instances[e])||(o="Cannot find repository [ "+e+" ]");else{if(t)return void this.queue.push({repositoryType:e,callback:t});o="Repository provider is undefined."}if(o)throw new Error(o);if(!t)return r;t(null,r)},t.prototype.initialize=function(){for(e.prototype.initialize.call(this);this.queue.length;)try{var t=this.queue.shift(),o=t.repositoryType,r=t.callback;this.getRepository(o,r)}catch(e){console.error(e)}},t.prototype.postInitialize=function(){e.prototype.postInitialize.call(this)},t.prototype.teardown=function(){e.prototype.teardown.call(this)},t}(o.ProviderAbstract);t.RepositoryProvider=i,t.callBackgroundRepository=function(e,t,o,i){if("function"!=typeof i)return new Promise(function(i,n){r.LegacyGlobal.bg.LPModule.callRepository(e,t,o,function(e,t){e?n(e):i(t)})});r.LegacyGlobal.bg.LPModule.callRepository(e,t,o,i)}}),o("content-script/repositories/index",["require","exports","content-script/repositories/auto-fill-state/delegated-auto-fill-state.repository","content-script/repositories/feature/delegated-feature.repository","content-script/repositories/repository-provider"],function(e,t,o,r,i){function n(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),n(o),n(r),n(i)}),o("content-script/views/basic-auth/basic-auth.view",["require","exports","content-script/legacy"],function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;o.LegacyGlobal.bg.basicAuth.hasFeature(function(t){t&&o.LegacyGlobal.bg.basicAuth.isBasicAuth(function(t,o){return e.init(t,o)})})}return e.prototype.init=function(e,t){var r=this;e&&(this.backgroundInterface=o.LegacyGlobal.bg,this.loadContent(function(){r.initContent(t)}))},e.prototype.loadContent=function(e){var t=this;$.get(chrome.runtime.getURL("/content-script/views/basic-auth/basic-auth.html"),function(o){var r=t.replaceRelativePaths(o);$(document.body).empty().append(r),e()})},e.prototype.initContent=function(e){$("#ba_username").focus(),e||$("#wronguserpass").hide(),document.title="Lastpass basic auth login",$("#title").text(location.host),"http:"===location.protocol?$("#secureWarning").show():$("#secureWarning").hide(),this.subscribeEvents(),this.openPopupNotification(),this.backgroundInterface.sendLpImprove("basicauth::triggered")},e.prototype.subscribeEvents=function(){var e=this;$("#lp-login-btn").click(function(){$(".js-notification").toggle("notification-visible"),e.doLogin()}),$("#password").keypress(function(t){13===t.which&&e.doLogin()}),$("#lp-cancel-btn").click(function(){e.cancelBasicAuth(),e.backgroundInterface.sendLpImprove("basicauth::cancel")}),$(".notification__close__button").click(function(){$(".notification__body").removeClass("slide-in").addClass("slide-out"),e.backgroundInterface.basicAuth.closeNotification()})},e.prototype.doLogin=function(){var e=$("#ba_username").val(),t=$("#ba_password").val();this.backgroundInterface.sendLpImprove("basicauth::login"),this.backgroundInterface.basicAuth.setAuthCredential(e,t,function(){return location.reload()})},e.prototype.cancelBasicAuth=function(){this.backgroundInterface.basicAuth.cancelBasicAuth(),$("#login-body").hide(),location.reload()},e.prototype.replaceRelativePaths=function(e){var t=chrome.runtime.getURL("");return e.replace(new RegExp("{extensionUrl}","g"),t)},e.prototype.openPopupNotification=function(){this.backgroundInterface.basicAuth.isNotificationClosed(function(e){e?$(".notification__body").hide():$(".notification__body").addClass("slide-in")})},e}();t.BasicAuthView=r}),o("content-script/views/index",["require","exports","content-script/views/basic-auth/basic-auth.view"],function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}(o)}),o("content-script/content-script.module",["require","exports","common/enums/index","content-script/repositories/index","content-script/services/index","content-script/views/index","common/module.abstract","common/decorators/index","content-script/legacy"],function(e,t,o,r,s,c,u,l,p){Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(){var t=e.call(this)||this;return window.addEventListener("beforeunload",function(){t.serviceProvider.teardown(),t.repositoryProvider.teardown()}),t}return a(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getContentScriptInstanceInfo=function(){return this.csInfo},t.prototype.initialize=function(){return i(this,void 0,void 0,function(){var e=this;return n(this,function(t){switch(t.label){case 0:return this.serviceProvider=new s.ServiceProvider(l.getServiceRegistry()),this.repositoryProvider=new r.RepositoryProvider(l.getRepositoryRegistry()),[4,new Promise(function(t){p.LegacyGlobal.Topics.get(o.TopicType.RequestFrameworkInitialized).subscribe(function(o){var r=o.tabID,i=o.frameID,n=o.topFrameID,s=o.request;e.csInfo={tabId:r,frameId:i,topFrameId:n,childFrameCount:s.childFrameCount,isTop:s.top,url:s.url},t()})})];case 1:return t.sent(),this.repositoryProvider.initialize(),this.serviceProvider.initialize(),[2]}})})},t.prototype.postInitialize=function(){return i(this,void 0,void 0,function(){return n(this,function(e){return this.repositoryProvider.postInitialize(),this.serviceProvider.postInitialize(),self.basicAuth=new c.BasicAuthView,[2]})})},t.prototype.getServiceProvider=function(){return this.serviceProvider},t.prototype.getRepositoryProvider=function(){return this.repositoryProvider},t.prototype.getService=function(e){if(!this.serviceProvider.isInitialized)throw new Error("Service provider is undefined.");var t=this.serviceProvider.getService(e);if(!t)throw new Error("Cannot find service [ "+e+" ]");return t},t.prototype.getRepository=function(e){var t=this.repositoryProvider.getRepository(e);if(!t)throw new Error("Cannot find repository [ "+e+" ]");return t},t.prototype.isInitialized=function(t){e.prototype.isInitialized.call(this,t)},t.instance=null,t}(u.ModuleAbstract);t.getContentScriptInstanceInfo=function(){return d.getInstance().getContentScriptInstanceInfo()},t.getService=function(e){return d.getInstance().getService(e)},t.getRepository=function(e){return d.getInstance().getRepository(e)},t.isInitialized=function(e){return d.getInstance().isInitialized(e)},t.callService=function(e,t,o,r){void 0===o&&(o=[]),d.getInstance().getServiceProvider().call(e,t,o,r)},t.default=d.getInstance()}),self.LPModule=t("content-script/content-script.module")}).call(self);
//# sourceMappingURL=sourcemaps/modules-contentscript.js.map
